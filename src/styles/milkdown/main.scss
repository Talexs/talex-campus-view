/*!
 * Copyright (c) 2022. TalexDreamSoul
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
.milkdown {
  p.paragraph.empty-node {
    &:before {
      color: var(--el-color-primary-light-7);
    }
  }
  .slash-dropdown {
    &::-webkit-scrollbar-thumb {
      &:hover {
        background-color: var(--el-color-primary-light-5) !important;
      }
      background-color: var(--el-color-primary-light-7) !important;
    }
    .slash-dropdown-item {
      .icon {
        color: var(--el-text-color-secondary);
      }
      &.active {
        .icon {
          color: var(--el-text-color-primary);
        }
        color: var(--el-text-color-primary);
      }
      padding: 0 12px;
      height: 40px;
      line-height: 40px;
      gap: 16px;

      color: var(--el-text-color-secondary);
      background-color: var(--el-fill-color);
    }

    width: 250px;

    border: 1px solid var(--el-border-color-light);
    background-color: var(--el-fill-color);
  }
  .milkdown-benxqe {
    border: 1px solid var(--el-border-color-light) !important;
    background-color: var(--el-fill-color) !important;
    button {
      color: var(--el-color-primary-light-3);
    }
  }
  .ProseMirror {
    padding: 5px 20px !important;
  }
  .code-fence {
    pre {
      color: var(--el-text-color-regular) !important;
      background-color: transparent !important;
    }
    .code-fence_selector {
      position: absolute;

      right: 0;
      //clip-path: circle(right at 50px 50px);
      opacity: .65;
      clip-path: circle(20px at 88% 50%);
      &:hover {
        .code-fence_selector-list {
          opacity: 1 !important;
        }
        opacity: 1;
        clip-path: circle(200% at 0 0);
      }

      transition: ease-out .25s;
      color: var(--el-text-color-regular) !important;
      border-radius: 2px;
      border: 1px solid var(--el-border-color-light) !important;
      background-color: var(--el-fill-color) !important;;
    }
    .icon.material-icons.material-icons-outlined {
      border-left-color: var(--el-border-color-light) !important;
      color: var(--el-text-color-secondary) !important;
      &:hover {
        color: var(--el-color-primary) !important;
        background-color: var(--el-border-color-lighter) !important;
      }
    }
    .code-fence_selector-list::-webkit-scrollbar-thumb {
      &:hover {
        background-color: var(--el-color-primary-light-3) !important;
      }
      background-color: var(--el-color-primary-light-5) !important;
    }
    .code-fence_selector-list {
      .code-fence_selector-list-item {
        &:before {
          content: "";
          position: absolute;

          width: 2px;
          height: 100%;

          left: 0;
          top: 0;

          background-color: var(--el-color-primary);
          opacity: 0;
          transform: scale(0.8);
          transition: .25s;
        }
        &:hover {
          color: var(--el-color-primary) !important;
          background-color: var(--el-fill-color-light) !important;
          &:before {
            opacity: 1;
            transform: scale(1);
          }
        }
        color: var(--el-text-color-secondary) !important;
        border-radius: 0 2px 2px 0;
        transition: .25s;
      }
      left: 100% !important;

      //opacity: 0;
      border-radius: 0 0 2px 2px;
      transform: translate(-100%, 10px) translateX(-18px);

      background-color: var(--el-fill-color) !important;
      border-color: var(--el-border-color-light) !important;
    }
    border-right: 8px !important;
    background-color: var(--el-fill-color-light) !important;
  }
  hr {
    background-color: var(--el-fill-color-darker) !important;
  }
  .heading span.ProseMirror-widget {
    color: var(--el-color-primary-light-5) !important;
  }
  .code-inline {
    padding: 1px 5px !important;
    margin-right: 5px !important;

    border-radius: 3px !important;
    color: var(--el-color-primary-light-3) !important;
    background-color: var(--el-fill-color) !important;
  }
  img {
    opacity: .8;
  }
  .ProseMirror {
    height: calc(100% - 10px);
  }
  .tableWrapper {
    th {
      background: var(--el-color-primary-light-9) !important;
    }
    td, th {
      border: 1px solid var(--el-border-color-light) !important;
    }
  }
  //position: relative;

  color: var(--el-text-color-primary) !important;
  box-shadow: none !important;
  background-color: var(--el-fill-color-lighter) !important;

  height: 100%;

  transition: .25s;

}

.milkdown ::selection {
  background-color: var(--el-color-primary-light-7) !important;
}

.milkdown > div[contenteditable="false"] {
  .code-fence_selector {
    clip-path: none;

    cursor: auto;
    transform: translateX(10%) scale(.75)
  }
}
